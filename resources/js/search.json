[[{"i":"welcome-to-mipamipac-hub","l":"Welcome to MiPA/MiPAC Hub","p":["MiPAはMi.pyの後継作であり、PythonでMisskeyBotを作るためのフレームワークとして開発されています。"]},{"l":"Features","p":["Fast","MiPAはモデルなどにslotsを定義することにより不要なメモリなどの削減を行っています。"]},{"l":"Installation","p":["現在MiPA及びMiPACは開発段階の為、破壊的変更などが多くあります。それに伴いリリース頻度が低い為、最新の機能を使用する場合はGitHubからのインストールをお勧めします。（この方法にはGitがマシンにインストールされている必要があります）"]},{"l":"このドキュメントを読むうえで","p":["以下の手順に沿ってドキュメントを読むことを推奨します。","ドキュメントの読み方 を見る","Mi.pyからMiPA を読む（Mi.pyを使用していた場合）"]}],[{"l":"Data Models","p":["データモデルはMiPAの User クラスなどを指します","基本的にこれらのクラスはユーザーによって作成されることを考慮しておらず、 Type Hints で使うことを想定しています"]},{"l":"User","p":["avatar_url","birthday","created_at","description","details","emojis","ff_visibility","fields","followers_count","following_count","host","id","import from mipac.models import User","instance","is_admin","is_blocked","is_blocking","is_bot","is_cat","is_follow","is_lady","is_locked","is_moderator","is_muted","is_silenced","is_suspended","location","name","nickname","notes_count","online_status","pinned_note_ids","pinned_notes","pinned_page","pinned_page_id","ToDo: ピン止めノート関係","type","updated_at","uri","url","アカウントがロックされているか","ピン止めされたノートのid","ユーザーがBotか","ユーザーがお嬢様か","ユーザーがサイレンスされているか","ユーザーがモデレーターか","ユーザーが凍結されているか","ユーザーが猫か","ユーザーが管理者か","ユーザーにブロックされてるか","ユーザーのID","ユーザーのアバターURL","ユーザーのいるインスタンス","ユーザーのインスタンス情報","ユーザーのオンライン状態","ユーザーのニックネーム","ユーザーのフィールド欄","ユーザーのフォロー数","ユーザーのフォロワー数","ユーザーの一意の名前","ユーザーの作成日時","ユーザーの名前などに含まれる絵文字の一覧","ユーザーの投稿したノートの数","ユーザーの更新日","ユーザーの自己紹介","ユーザーの詳細情報","ユーザーの誕生日","ユーザープロフィールへのURI","ユーザープロフィールへのURL","ユーザーをフォローしているか","ユーザーをブロックしているか","ユーザーをミュートしているか","住んでる地域"]},{"l":"Instance","p":["description","favicon_url","host","icon_url","import from mipac.models import Instance","name","software_name","software_version","theme_color","type","インスタンスのfavicon","インスタンスのアイコン","インスタンスのホスト","インスタンスの色","インスタンス名","ソフトウェアのバージョン","ソフトウェアの名前"]},{"l":"Note","p":["author","Ayuskeyで非推奨","channel_id","content","created_at","cw","description","emojis","extract_emojis","extract_hashtags","extract_mentions","field","file_ids","files","id","import from mipac.models import Note","local_only","media_ids","name","poll","preview","reactions","renote","renote_count","renote_id","replies_count","reply_id","tags","type","user_id","via_mobile","visibility","visible_user_ids","アンケートオブジェクト","ノートに対する返信の数","ノートのID","ノートの作成日時","ノートの公開範囲","ハッシュタグを展開するか","メンションを展開するか","モバイルからの投稿。v12では廃止。m544は不明。","リノートされた数","リノートしたオブジェクト","投稿されたチャンネル","投稿したノートの内容","投稿したユーザーのID","投稿したユーザーのオブジェクト","投稿に付いたリアクションのリスト","投稿に含まれる絵文字のリスト","投稿のハッシュタグ","投稿を見れるユーザーのID(ダイレクト投稿)","投稿を連合させない","添付されたファイルオブジェクトのリスト","添付されたファイルのIDリスト","絵文字を展開するか","閲覧注意時の文字"]}],[{"l":"MiPAのイベントリスト","p":["Botが起動した際に発動し、第1引数にwebsocketのセッションを受け取ります","Botとして使用しているアカウントにフォローリクエストが来た際","Botとして使用しているアカウントにフォローリクエストが来た際に発動し、第1引数に を受け取ります","Botとして使用しているアカウントにメンションがあった際","Botとして使用しているアカウントにメンションがあった際に発動し、第1引数に を受け取ります","Botとして使用しているアカウントに新規フォロワーが来た際","Botとして使用しているアカウントに新規フォロワーが来た際に発火し、第1引数に を受け取ります","Botとして使用しているアカウントのノートにリアクションが付いた際","Botとして使用しているアカウントのノートにリアクションが付いた際に発火し、第1引数に を受け取ります","Botとして使用しているアカウントのプロフィールが更新された際","Botとして使用しているアカウントのプロフィールが更新された際に発動し、第1引数に を受け取りますを受け取ります","Botの起動が完了した際","on_drive_file_created","on_emoji_add","on_follow","on_follow_request","on_me_updated","on_mention","on_message","on_reaction","on_ready","on_user_follow","イベント名","インスタンスに絵文字が追加された際","インスタンスに絵文字が追加された際に発動します。第1引数に を受け取ります","このページではMiPAのイベントリスト( on_ready や on_message)を紹介します","タイミング","ドライブにファイルを上げ終わった際","ドライブにファイルを上げ終わった際に発火し、第1引数に を受け取ります","ユーザーをフォローした際","ユーザーをフォローした際に発火し、第1引数に","接続しているチャンネルで投稿があった場合に発動し、第1引数に を受け取ります","接続しているチャンネルで投稿があった際","説明"]}],[{"l":"RawModels","p":["生のデータモデルは.action などの動作を持たないデータクラスです","基本的にこれらのクラスはユーザーによって新規に作成されることを想定していません。 正常に動作しない場合があることを予めご了承ください。"]},{"l":"ユーザー関連"},{"l":"RawUser","p":["avatar_url","birthday","created_at","description","details","emojis","ff_visibility","fields","followers_count","following_count","host","id","instance","is_admin","is_blocked","is_blocking","is_bot","is_cat","is_follow","is_lady","is_locked","is_moderator","is_muted","is_silenced","is_suspended","location","name","nickname","notes_count","online_status","pinned_note_ids","pinned_notes","pinned_page","pinned_page_id","ToDo: ピン止めノート関係","type","updated_at","uri","url","アカウントがロックされているか","ピン止めされたノートのid","ユーザーがBotか","ユーザーがお嬢様か","ユーザーがサイレンスされているか","ユーザーがモデレーターか","ユーザーが凍結されているか","ユーザーが猫か","ユーザーが管理者か","ユーザーにブロックされてるか","ユーザーのID","ユーザーのアバターURL","ユーザーのいるインスタンス","ユーザーのインスタンス情報","ユーザーのオンライン状態","ユーザーのニックネーム","ユーザーのフィールド欄","ユーザーのフォロー数","ユーザーのフォロワー数","ユーザーの一意の名前","ユーザーの作成日時","ユーザーの名前などに含まれる絵文字の一覧","ユーザーの投稿したノートの数","ユーザーの更新日","ユーザーの自己紹介","ユーザーの詳細情報","ユーザーの誕生日","ユーザープロフィールへのURI","ユーザープロフィールへのURL","ユーザーをフォローしているか","ユーザーをブロックしているか","ユーザーをミュートしているか","住んでる地域"]},{"l":"RawUserDetails","p":["avatar_blurhash","avatar_color","banner_color","banner_url","description","has_pending_follow_request_from_you","has_pending_follow_request_to_you","import from mipac.core.models import RawUserDetails","lang","name","public_reactions","security_keys","TODO","two_factor_enabled","type","use_password_less_login","あなたからのフォローリクエストがあるか","セキュリティ－キーを使用しているか","パスワードレスログインを使用しているか","ユーザーの言語","リアクションを他人に見せるか","二段認証を使用しているか","保留中のフォローリクエストがあるか"]},{"l":"インスタンス関連"},{"l":"RawInstance","p":["description","favicon_url","host","icon_url","import from mipac.core.models import RawInstance","name","software_name","software_version","theme_color","type","インスタンスのfavicon","インスタンスのアイコン","インスタンスのホスト","インスタンスの色","インスタンス名","ソフトウェアのバージョン","ソフトウェアの名前"]},{"l":"投稿関連"},{"l":"RawRenotes","p":["content","created_at","cw","description","emojis","file_ids","files","id","import from mipac.core.models import RawRenotes","name","poll","reactions","renote_count","renote_id","replies_count","reply_id","type","uri","user","user_id","visibility","アンケートの生オブジェクト","ノートに対する返信の数","ノートの公開範囲","リノートされた数","リノートしたユーザーのID","リノートした生のユーザーオブジェクト","リノートのID","リノートの内容","リノートを作成した日時","リプライのID","投稿に付いたリアクションのリスト","投稿に含まれる絵文字のリスト","投稿のURI","添付されたファイルのIDリスト","添付されたファイルの生オブジェクトリスト","閲覧注意時の文字"]},{"l":"RawReaction","p":["created_at","description","id","import from mipac.core.models import RawReaction","is_read","name","note","reaction","type","user","ノートオブジェクト","ユーザーオブジェクト","リアクション","リアクションを付けた際のイベントID","リアクションを付与した日時","読まれたか"]},{"l":"RawNoteReaction","p":["import from mipac.core.models import RawNoteReaction","name","type","description","id","リアクションを付けた際のイベントID","created_at","リアクションを付与した日時","user","リアクションを付けたユーザー","reaction","リアクション"]},{"l":"RawNote","p":["author","Ayuskeyで非推奨","channel_id","content","created_at","cw","description","emojis","extract_emojis","extract_hashtags","extract_mentions","field","file_ids","files","id","import from mipac.core.models import RawNote","local_only","media_ids","name","poll","preview","reactions","renote","renote_count","renote_id","replies_count","reply_id","tags","type","user_id","via_mobile","visibility","visible_user_ids","アンケートオブジェクト","ノートに対する返信の数","ノートのID","ノートの作成日時","ノートの公開範囲","ハッシュタグを展開するか","メンションを展開するか","モバイルからの投稿。v12では廃止。m544は不明。","リノートされた数","リノートしたオブジェクト","投稿されたチャンネル","投稿したノートの内容","投稿したユーザーのID","投稿したユーザーのオブジェクト","投稿に付いたリアクションのリスト","投稿に含まれる絵文字のリスト","投稿のハッシュタグ","投稿を見れるユーザーのID(ダイレクト投稿)","投稿を連合させない","添付されたファイルオブジェクトのリスト","添付されたファイルのIDリスト","絵文字を展開するか","閲覧注意時の文字"]}],[{"l":"このドキュメントの読み方"},{"l":"バッヂの意味","p":["バッヂ","説明","Misskey v11のインスタンスでのみに値が存在します","Ayuskey を使用したインスタンスのみに値が存在します","Misskey v11/m544を使用したインスタンスのみに値が存在します","Misskey v12を使用したインスタンスのみに値が存在します","Misskey v12またはAyuskeyを使用したインスタンスのみに値が存在します","Ayuksey または m544を使用したインスタンスのみに値が存在します","現在調査中、作成中の場合","MiPA/MiPAC側で現在値が正しく無く、正しい値を表示している場合","Misskey API もしくは MiPA/MiPAC側で非推奨となっている場合"]},{"l":"モデル関連のテーブルの見方","p":["モデルに関するドキュメントには以下のようなテーブルがあると思います。","name","type","description","例えばこれがUserモデルのテーブルだった場合は以下のようになります"]},{"l":"User","p":["name","type","description","id","ユーザーのID"]},{"l":"コリュームごとの意味","p":["name","そのクラスに存在する属性を指します。Userクラスのnameがidの場合は user.id とアクセスします","type","その属性の型を表示します。Default:から始まるバッヂが存在する場合は値が存在しない場合その値が入っています","description","その属性の説明やヒントが書いてあります"]}],[{"l":"FAQ","p":["ここでは何故こういう仕様になっているのかという物に対する公式の回答を記載しています"]},{"l":"Q. all 引数をTrueにすると limitが そのエンドポイントの最大値に変更される","p":["これを説明するにはall引数によってどのような動作に変更されているかを知る必要があります。 まず、all引数を有効にするとlimitに指定した分を 取得しきるまで APIに対してリクエストを送ります。これが何を意味するかというと、 limit を1にした場合それはもはやDoSにあたる行為に成りうるため、最低限のリクエストで済むよう、そのエンドポイントの limit 最大まで引き上げを行います。"]}],[{"i":"mipy-から-mipa-への移行","l":"Mi.py から MiPA への移行","p":["このページでは Mi.py から MiPA への移行方法とどこが違うかをご説明します。大きな違いは以下の通りです。","項目","Mi.py","MiPA","client.note.send ができる","〇","×","パッケージが一つ","今後の更新を行うか","新規貢献者が参加しやすいか","保守性が高いか"]},{"i":"clientnotesend-が出来ない","l":"client.note.send が出来ない","p":["これは以下のように置き換えが必要です。Mi.py でも本来はこのように変更する予定でしたが、手違いにより現在の仕様になっています。"]},{"l":"パッケージが一つではない","p":["これは Mi.py からの移行にあたって大きな壁となる物です。 MiPA には以下の 2 つのライブラリがあります","MiPA BotFrameWork を備えたライブラリ","MiPAC Misskey の APIWrapper として作成されたライブラリ","今まで Mi.py 一つでやっていた物を 2 つのライブラリに分けています。 Mi.py のモジュールの場所を MiPA に置き換えた物が以下のものです","Mi.py","MiPA","MiPAC","mi.framework.models.*","mipac.models.*","mi.wrapper.models.*","mipac.core.models.*","mi.ext","mipa.ext"]},{"i":"mipyの今後について","l":"Mi.pyの今後について","p":["Mi.pyはv4.0.0を最後の機能追加を含むアップデートとし、今後の開発については以下をご覧ください。","作業名","やるかどうか","既存のエンドポイントの変更への追従","×","新規エンドポイントへの対応","小規模なバグの修正","〇","大規模なバグの修正","重大なセキュリティー上の問題（規模が大きい場合はarchiveも視野に）","依存関係の更新","新規機能の追加"]},{"l":"新規貢献者が参加しやすい","p":["Mi.pyでは一部のimportではfromを使ったimportを使ってはいけないなど、一見すると問題ない行為が循環インポートの原因になり得る状態だったため、新しく開発に参加するのがとても困難な状態でした。それらの問題をMiPA / MiPACでは解決しています。"]},{"l":"保守性が高い","p":["Mi.pyではAPIWrapperとBotFrameWorkを同じライブラリ内で開発していたため、あっちこっちと振り回されることが多かったですが、これらの問題もMiPA / MiPACと2つのライブラリに分けることによって解決しています。"]}],[{"l":"QuickStart"},{"i":"mipamipacを使用したbotの作り方","l":"MiPA/MiPACを使用したBotの作り方","p":["このコードを簡潔に紹介しますと、以下のようになります","MyBotクラスをインスタンス化し、bot変数に入れる","bot.start時にインスタンスのurl（wss://example.comやhttps://example.com）とBotにしたいユーザーのTokenを入れる","起動すると on_ready イベントが呼ばれる為、その際にRouterクラスを用いて受け取りたい情報をBotに伝える","3の手順で接続したチャンネル（今回ならグローバルタイムラインと自信に関する通知）に投稿があった場合、 on_message イベントが呼ばれる"]},{"l":"MiPACを用いたAPI通信の例"}],[{"l":"注意点","p":["MiPA / MiPACはリリースがかなり遅いです。そのため新しい機能やバグの修正などを早くに入手したい場合はgitを用いたインストールを推奨しています。","git が必要です","コマンドは以下の通りです。"]}],[{"l":"開発方針","p":["このページではMiPAとMiPACの開発方針を記載しています"]},{"l":"リポジトリについて","p":["メインリポジトリは開発中のコミットが確実にあります。GitHubはミラーとして使用しているため、確実に最新のデータであることを保証することはできません","メインリポジトリ","MiPA","MiPAC","ミラーリポジトリ"]},{"l":"リリースサイクル","p":["不定期リリースです"]}],[{"l":"Roadmap"},{"i":"mipac-v002","l":"MiPAC v0.0.2","p":["Released: 2022-04-27","__all__ の定義","importの修正","一部正常に動作しない機能の修正","モデルの修正"]},{"i":"mipa-v002","l":"MiPA v0.0.2","p":["Released: 2022-04-27","不要な依存関係の削除","属性名を正しいものに修正"]},{"i":"mipac-v001","l":"MiPAC v0.0.1","p":["Released: 2022-04-27","Publish to PyPi","initial v0.0.1 release"]},{"i":"mipa-v001","l":"MiPA v0.0.1","p":["Released: 2022-04-27","Publish to PyPi","initial v0.0.1 release"]}]]